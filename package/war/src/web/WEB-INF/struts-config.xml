
<!DOCTYPE
    struts-config
    PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN"
    "http://jakarta.apache.org/struts/dtds/struts-config_1_2.dtd">
<!--
////////////////////////////////////////////////////////////////////////////////
// $Id: struts-config.xml,v 1.8.2.1 2005/10/08 17:20:36 colinmacleod Exp $
//
// This is is the main <em>struts</em> file and describes the interaction of forms,
// actions and <em>JSP</em> pages.
//
// Since: ivata groupware 0.9 (2002-11-07)
// Author: Colin MacLeod <colin.macleod@ivata.com>
// $Revision: 1.8.2.1 $
//
////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2001 - 2005 ivata limited.
// All rights reserved.
// =========================================================
// ivata groupware may be redistributed under the GNU General Public
// License as published by the Free Software Foundation;
// version 2 of the License.
//
// These programs are free software; you can redistribute them and/or
// modify them under the terms of the GNU General Public License
// as published by the Free Software Foundation; version 2 of the License.
//
// These programs are distributed in the hope that they will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
//
// See the GNU General Public License in the file LICENSE.txt for more
// details.
//
// If you would like a copy of the GNU General Public License write to
//
// Free Software Foundation, Inc.
// 59 Temple Place - Suite 330
// Boston, MA 02111-1307, USA.
//
//
// To arrange commercial support and licensing, contact ivata at
//                  http://www.ivata.com/contact.jsp
//
////////////////////////////////////////////////////////////////////////////////
//
// $Log: struts-config.xml,v $
// Revision 1.8.2.1  2005/10/08 17:20:36  colinmacleod
// Temporarily changed input mask form to session.
//
// Revision 1.8  2005/05/01 08:50:47  colinmacleod
// Changed the mask action to default to
// null forward if a forward name is undefined.
//
// Revision 1.7  2005/04/29 02:48:19  colinmacleod
// Data bugfixes.
// Changed primary key back to Integer.
//
// Revision 1.6  2005/04/22 10:26:00  colinmacleod
// Added the setup security page, and
// fixed the forward for login.
//
// Revision 1.5  2005/04/10 20:36:28  colinmacleod
// Updated login pages to change theme.
//
// Revision 1.4  2005/04/09 17:19:54  colinmacleod
// Changed copyright text to GPL v2 explicitly.
//
// Revision 1.3  2005/03/16 18:52:58  colinmacleod
// Fixed popup windows for event/person.
//
// Revision 1.1.1.1  2005/03/10 17:49:38  colinmacleod
// Restructured ivata op around Hibernate/PicoContainer.
// Renamed ivata groupware.
//
// Revision 1.14  2004/12/31 19:15:36  colinmacleod
// Cosmetic indentation improvements - tabs to spaces.
//
// Revision 1.13  2004/12/23 21:01:29  colinmacleod
// Updated Struts to v1.2.4.
// Changed base classes to use ivata masks.
//
// Revision 1.12  2004/11/12 16:09:37  colinmacleod
// Resolved spurious conflicts.
//
// Revision 1.11  2004/11/12 16:04:24  colinmacleod
// Removed dependencies on SSLEXT.
// Moved Persistence classes to ivata masks.
//
// Revision 1.10  2004/11/03 15:59:29  colinmacleod
// Disabled sslext globally.
//
// Revision 1.9  2004/07/19 21:58:52  colinmacleod
// Changed Vector to List where possible.
//
// Revision 1.8  2004/07/18 16:39:24  colinmacleod
// Changed DynaValidatorForm to DynaActionForm.
//
// Revision 1.7  2004/07/13 19:48:10  colinmacleod
// Moved project to POJOs from EJBs.
// Applied PicoContainer to services layer (replacing session EJBs).
// Applied Hibernate to persistence layer (replacing entity EJBs).
//
// Revision 1.6  2004/03/21 21:16:34  colinmacleod
// Shortened name to ivata op.
//
// Revision 1.5  2004/03/10 22:41:03  colinmacleod
// Added forward for mail server errors.
//
// Revision 1.4  2004/02/12 22:54:59  colinmacleod
// Removed secure settings.
//
// Revision 1.3  2004/02/10 15:16:15  janboros
// fixing bug
//
// Revision 1.2  2004/02/04 21:24:48  colinmacleod
// Commented out secure actions to make it work even if you havent set up SSL
//
// Revision 1.1.1.1  2004/01/27 20:59:21  colinmacleod
// Moved ivata op to sourceforge.
//
// Revision 1.6  2004/01/12 14:01:43  jano
// fixing bugs
//
// Revision 1.5  2003/12/12 11:10:11  jano
// fixing functionaality
//
// Revision 1.4  2003/11/18 09:58:36  jano
// commiting all forgoten staff
//
// Revision 1.3  2003/11/13 16:12:28  jano
// commitng everything to CVS
// can deploy and application is ruuning, can login into
//
// Revision 1.2  2003/11/03 11:29:57  jano
// commiting openportal,
// tryinjg to fix deploying problem
//
// Revision 1.1.1.1  2003/10/13 20:47:37  colin
// Restructured portal into subprojects
//
// Revision 1.47  2003/07/08 13:36:53  jano
// we have library items in CVS
// new field in revision FORM
//
// Revision 1.46  2003/07/08 07:01:35  peter
// actions and forms for html and images upload in library
//
// Revision 1.45  2003/07/06 20:40:05  colin
// Made main pages secure to stop IE warning
//
// Revision 1.44  2003/06/26 09:18:56  jano
// we have new action for hide unacknowledgeed comment
//
// Revision 1.43  2003/06/19 12:09:29  jano
// in live it's little bit diffrent
//
// Revision 1.42  2003/06/19 10:06:08  jano
// add check boxies in registration proces of customer
//
// Revision 1.41  2003/06/03 00:18:08  colin
// changed to default ports
//
// Revision 1.40  2003/06/03 00:04:27  colin
// reenabled secure
//
// Revision 1.39  2003/06/02 23:43:04  colin
// added new rights interface
//
// Revision 1.38  2003/05/22 15:36:58  jano
// we have new field in fileRevisionsForm
//
// Revision 1.37  2003/05/22 14:19:50  jano
// I changed name of form FileRevisonsForm to fileRevisionsForm
//
// Revision 1.36  2003/05/20 08:15:02  jano
// we are using new action and form for revision control of file
//
// Revision 1.35  2003/05/19 14:52:29  peter
// fixed drive upload action and form
//
// Revision 1.34  2003/05/14 11:36:24  peter
// fixed my mistake - I recently submitted testing ports (8080 and 8443)
//
// Revision 1.33  2003/05/13 15:25:49  peter
// mailComposeForm is in the session
//
// Revision 1.32  2003/04/01 18:06:53  colin
// fixed for jetty - forward tags must come after set-property tags
//
// Revision 1.31  2003/03/26 15:17:27  peter
// fixed success in mailDisplayForm
//
// Revision 1.30  2003/03/25 08:20:52  jano
// we have new forward in displayMail action
//
// Revision 1.29  2003/03/12 14:31:18  peter
// jndiPrefix added to loginForm
//
// Revision 1.28  2003/03/10 14:54:07  jano
// validator is enable
//
// Revision 1.27  2003/03/10 14:02:16  jano
// at this moment we are not using validator
//
// Revision 1.26  2003/03/04 14:28:05  colin
// added addFavorite
//
// Revision 1.25  2003/03/04 00:19:45  colin
// added alertLogout
//
// Revision 1.24  2003/02/28 10:30:33  colin
// fixed bug when cancel is pressed in library submit
//
// Revision 1.23  2003/02/25 17:42:39  colin
// fixed display, recipients of mail subsystem
//
// Revision 1.22  2003/02/25 07:54:47  colin
// restructured java file paths
//
// Revision 1.21  2003/02/19 08:22:59  colin
// added mailComposeAction and mailIndexAction
//
// Revision 1.20  2003/02/18 10:50:31  colin
// added personFrame.jsp and password.jsp
//
// Revision 1.19  2003/02/13 14:33:48  colin
// finished struts/pop-up calendar
//
// Revision 1.18  2003/02/12 14:38:06  peter
// added noSettings forward to handle cases with no settings enabled, allowed
//
// Revision 1.17  2003/02/06 16:49:49  peter
// added input and secure for setting
//
// Revision 1.16  2003/02/06 13:36:03  colin
// made utilClosePopUp a jsp file (was plain html)
//
// Revision 1.15  2003/02/04 17:34:30  colin
// restructured
// extended addressbook
// tentative first version of calendar
//
// Revision 1.14  2003/01/30 16:43:20  peter
// added setting struts
//
// Revision 1.13  2003/01/27 08:43:25  colin
// simplified login procedure using keepAlive
//
// Revision 1.12  2003/01/23 15:16:18  colin
// added new actions for rewirting urls (instead of cookie sessions)
//
// Revision 1.11  2003/01/21 08:28:55  colin
// first version of help
//
// Revision 1.10  2003/01/18 20:08:41  colin
// converted login to struts
// fixes in mail
//
// Revision 1.9  2003/01/17 08:55:58  peter
// added entries for drive struts and message resources
//
// Revision 1.8  2002/12/12 15:07:56  jano
// we have new STRUTS form of the group
//
// Revision 1.7  2002/11/29 15:19:19  jano
// there was mistake wih dynamic form
//
// Revision 1.6  2002/11/28 14:19:19  jano
// we want keep TopicForm in session
//
// Revision 1.5  2002/11/25 09:11:33  jano
// resolving
//
// Revision 1.4  2002/11/25 08:53:39  peter
// message resources for calendar added
//
// Revision 1.3  2002/11/22 10:26:01  colin
// prepended mail to the names of all the mail elements
//
// Revision 1.2  2002/11/21 08:22:39  peter
// addressBook message resources added
//
// Revision 1.1  2002/11/12 12:39:18  colin
// first version of Struts in the intranet
//
//////////////////////////////////////////////////////////////////////////////// -->

<struts-config>
  <!--
  //////////////////////////////////////////////////////////////////////////////
    ========== FORMS ==========
  //////////////////////////////////////////////////////////////////////////////
  -->
  <form-beans>

    <!-- dummy form for use with imhtml form-->
    <form-bean
        name="genericForm"
        type="org.apache.struts.action.DynaActionForm"/>

    <!--   ********   ROOT   ********   -->
    <!-- Login form bean -->
    <form-bean
        name="loginForm"
        type="org.apache.struts.action.DynaActionForm">
      <!-- a new forward, set up using the radio buttons -->
      <form-property
          name="forward"
          type="java.lang.String"/>
      <form-property
          name="help"
          type="java.lang.String"/>
      <form-property
          name="javaScriptVersion"
          type="java.lang.String"/>
      <form-property
          name="jndiPrefix"
          type="java.lang.String"/>
      <form-property
          name="login"
          type="java.lang.String"/>
      <form-property
          name="password"
          type="java.lang.String"/>
      <form-property
          name="theme"
          type="java.lang.String"/>
      <form-property
          name="userName"
          type="java.lang.String"/>
    </form-bean>

    <!-- detect javascript -->
    <form-bean
        name="javaScriptForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="javaScriptVersion"
          type="java.lang.String"/>
    </form-bean>

    <!-- Setup form bean: used on setup.jsp -->
    <form-bean
        name="setupForm"
        type="com.ivata.groupware.business.mail.struts.MailSetupForm"/>

    <!--   ********   ADDRESSBOOK   ********   -->
    <!-- when you calling group.jsp from right frame of groupFrame.jsp -->
    <form-bean
        name="addressBookFindGroupForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="id"
          type="Integer"/>
    </form-bean>
    <!-- form used to display the correct pages in the group frame -->
    <!-- There can be many form-bean elements defined. One for each form in the system -->
    <!-- Login form bean -->
    <form-bean
        name="addressBookGroupFrameForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="contentFrameName"
          type="java.lang.String"/>
      <form-property
          name="contentPage"
          type="java.lang.String"/>
      <form-property
          name="menuFrameName"
          type="java.lang.String"/>
      <form-property
          name="menuPage"
          type="java.lang.String"/>
    </form-bean>
    <!-- form used to display a list of user groups or address books -->
    <form-bean
        name="addressBookGroupListForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="contentFrameName"
          type="java.lang.String"/>
      <form-property
          name="deleteKey"
          type="java.lang.String"/>
      <form-property
          name="groupMap"
          type="java.util.Map"/>
      <form-property
          name="inputMask"
          type="java.lang.String"/>
      <form-property
          name="menuFrameURI"
          type="java.lang.String"/>
      <form-property
          name="resourceFieldPath"
          type="java.lang.String"/>
      <form-property
          name="selectedId"
          type="java.lang.Integer"/>
    </form-bean>
    <!-- form used to display a combo list of address books above a tree -->
    <form-bean
        name="addressBookGroupTreeForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="contentFrameName"
          type="java.lang.String"/>
      <form-property
          name="deleteKey"
          type="java.lang.String"/>
      <form-property
          name="groupMap"
          type="java.util.Map"/>
      <form-property
          name="inputMask"
          type="java.lang.String"/>
      <form-property
          name="menuFrameURI"
          type="java.lang.String"/>
      <form-property
          name="resourceFieldPath"
          type="java.lang.String"/>
      <form-property
          name="selectedId"
          type="java.lang.Integer"/>

      <form-property
          name="empty"
          type="java.lang.Boolean"/>
    </form-bean>
    <!-- manual input form for Group -->
    <form-bean
        name="addressBookGroupForm"
        type="com.ivata.groupware.business.addressbook.struts.GroupForm"/>
    <!-- manual input form for Group Rights -->
    <form-bean
        name="addressBookGroupRightForm"
        type="com.ivata.groupware.business.addressbook.struts.GroupRightForm"/>
    <!-- list a group of people by group -->
    <form-bean
        name="addressBookIndexForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="index"
          type="java.lang.String"/>
      <form-property
          name="comboAddressBook"
          type="java.lang.Integer"/>
      <form-property
          name="comboGroup"
          type="java.lang.Integer"/>
      <form-property
          name="addressBooks"
          type="java.util.List"/>
      <form-property
          name="results"
          type="java.util.List"/>
    </form-bean>
    <!-- change your own or (if you're allowed) someone else's password -->
    <form-bean
        name="addressBookPasswordForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="cancel"
          type="java.lang.String"/>
      <form-property
          name="confirmPassword"
          type="java.lang.String"/>
      <!--
        if this is set to true, and there is an error message, then the error is
        displayed with a close button
      -->
      <form-property
          name="justClose"
          type="java.lang.Boolean"/>
      <form-property
          name="oldPassword"
          type="java.lang.String"/>
      <form-property
          name="ok"
          type="java.lang.String"/>
      <form-property
          name="newPassword"
          type="java.lang.String"/>
    </form-bean>
    <!-- manual input form for PersonDetails/Member/Employee/User -->
    <form-bean
        name="addressBookPersonForm"
        type="com.ivata.groupware.business.addressbook.struts.PersonForm"/>

    <form-bean
        name="addressBookUserRightForm"
        type="com.ivata.groupware.business.addressbook.struts.UserRightForm"/>


    <!--   ********   CALENDAR   ********   -->
    <!-- manual input form for Event -->
    <form-bean
        name="calendarEventForm"
        type="com.ivata.groupware.business.calendar.struts.EventForm"/>
    <!-- parameters for main calendar index -->
    <form-bean
        name="calendarIndexForm"
        type="com.ivata.groupware.business.calendar.struts.IndexForm"/>
    <!-- manual input form for Meeting -->
    <form-bean
        name="calendarMeetingForm"
        type="com.ivata.groupware.business.calendar.struts.MeetingForm"/>

    <!--   ********   CHAT   ********   -->
    <!-- manual input form for new room -->
    <form-bean
        name="chatRoomForm"
        type="com.ivata.groupware.business.chat.struts.RoomForm"/>

    <!--   ********   DRIVE   ********   -->
    <!-- manual input for Directory - the current directory we work with -->
    <form-bean
        name="directoryForm"
        type="com.ivata.groupware.business.drive.struts.DirectoryForm"/>

    <!-- manual input for Upload - the new file and the coomment -->
    <form-bean
        name="driveUploadForm"
        type="com.ivata.groupware.business.drive.struts.UploadForm"/>

    <!-- form for reverting file -->
    <form-bean
        name="fileRevisionsForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="fileId"
          type="java.lang.Integer"/>
      <form-property
          name="revision"
          type="java.lang.String"/>
      <form-property
          name="comment"
          type="java.lang.String"/>
      <form-property
          name="fileName"
          type="java.lang.String"/>
      <form-property
          name="filePath"
          type="java.lang.String"/>
      <form-property
          name="revisions"
          type="java.util.List"/>
      <form-property
          name="display"
          type="java.lang.String"/>
      <form-property
          name="libraryItemId"
          type="java.lang.Integer"/>
      <form-property
          name="javascript"
          type="java.lang.String"/>
    </form-bean>

    <!--   ********   ivata MASKS   ********   -->
    <!-- wraps an object for display/entry -->
    <form-bean
        name="InputMaskForm"
        type="com.ivata.mask.web.struts.InputMaskForm"/>


    <!--   ********   LIBRARY   ********   -->
    <!-- contains the comment to be submitted -->
    <form-bean
        name="libraryCommentForm"
        type="com.ivata.groupware.business.library.struts.CommentForm"/>
    <!-- stores topic information when calling topicModify.jsp from topic.jsp -->
    <form-bean
        name="libraryFindTopicForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="id"
          type="Integer"/>
    </form-bean>
    <!-- contains the item to be displayed or submitted -->
    <form-bean
        name="libraryItemForm"
        type="com.ivata.groupware.business.library.struts.ItemForm"/>
    <!-- list of the most recent library items -->
    <form-bean
        name="libraryIndexForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="commentsForItem"
          type="java.util.Map"/>
      <form-property
          name="items"
          type="java.util.Collection"/>
      <form-property
          name="unacknowledgedComments"
          type="java.util.Collection"/>
    </form-bean>
    <!-- manual input form for library Topic -->
    <form-bean
        name="libraryTopicForm"
        type="com.ivata.groupware.business.library.struts.TopicForm"/>
    <!-- manual input for upload document from html file -->
    <form-bean
        name="libraryUploadHtmlForm"
        type="com.ivata.groupware.business.library.struts.UploadHtmlForm"/>
    <!-- manual input for uploading images for a document created from html file -->
    <form-bean
        name="libraryUploadImagesForm"
        type="com.ivata.groupware.business.library.struts.UploadImagesForm"/>


    <!--   ********   NAVIGATION   ********   -->
    <!-- contains a new favorite -->
    <form-bean
        name="navigationFavoriteForm"
        type="org.apache.struts.action.DynaActionForm">
      <form-property
          name="uRL"
          type="java.lang.String"/>
      <form-property
          name="favorite"
          type="java.lang.String"/>
    </form-bean>

    <!--   ********   MAIL   ********   -->
    <!-- manual input form for composing mails -->
    <form-bean
        name="mailComposeForm"
        type="com.ivata.groupware.business.mail.struts.ComposeForm"/>
    <!-- specify a folder, the selections in that folder, and any action on them -->
    <form-bean
        name="mailIndexForm"
        type="com.ivata.groupware.business.mail.struts.IndexForm"/>
    <!-- generated form for displaying, replying to, forwarding, or editting existing mails -->
    <form-bean
        name="mailDisplayForm"
        type="com.ivata.groupware.business.mail.struts.DisplayForm"/>
    <!-- dummy form - used in mailRecipients where we just use javascript -->
    <form-bean
        name="mailRecipientForm"
        type="org.apache.struts.action.DynaActionForm"/>
    <!-- form - used for mail attachment uploads in mail compose -->
    <form-bean
        name="mailUploadForm"
        type="com.ivata.groupware.business.mail.struts.UploadAttachmentsForm"/>


    <!--   ********   SETTINGS   ********   -->
    <!-- manual input form for preferences (tabbed) -->
    <form-bean
        name="settingForm"
        type="com.ivata.groupware.admin.setting.struts.SettingForm"/>
  </form-beans>

  <!--
  //////////////////////////////////////////////////////////////////////////////
    ========== GLOBAL FORWARDS ==========
  //////////////////////////////////////////////////////////////////////////////
  -->
  <global-forwards>
    <!--   ********   ROOT   ********   -->
    <forward
        name="cancel"
        path="/util/closePopUp.jsp"
        redirect="false"/>
    <forward
        name="delete"
        path="/util/closePopUp.jsp"
        redirect="false"/>
    <forward
        name="error"
        path="/error.jsp"/>
    <forward
        name="failure"
        path="/error.jsp"/>
    <forward
        name="index"
        path="/index.jsp"/>
    <forward
        name="javaScriptAction"
        path="/javaScript.action"/>
    <forward
        name="left"
        path="/left.jsp"/>
    <forward
        name="login"
        path="/login.jsp"/>
    <forward
        name="loginAction"
        path="/login.action"/>
    <forward
        name="loginGuestAction"
        path="/loginGuest.action"/>
    <forward
        name="loginJavaScript"
        path="/loginJavaScript.jsp"/>
    <forward
        name="ok"
        path="/util/closePopUp.jsp"/>
    <forward
        name="setup"
        path="/setup/index.jsp"/>
    <forward
        name="setupAction"
        path="/setup.action"/>
    <forward
        name="setupConfirm"
        path="/setup/confirm.jsp"/>
    <forward
        name="setupResults"
        path="/setup/results.jsp"/>
    <forward
        name="setupSecurity"
        path="/setup/security.jsp"/>
    <forward
        name="success"
        path="/library/index.jsp"/>

    <!--   ********   ADDRESSBOOK   ********   -->
    <forward
        name="addressBookChooseParent"
        path="/addressBook/include/chooseParent.jsp"/>
    <forward
        name="addressBookGroup"
        path="/addressBook/group.jsp"/>
    <forward
        name="addressBookGroupAction"
        path="/addressBook/group.action"/>
    <forward
        name="addressBookGroupFrame"
        path="/addressBook/groupFrame.jsp"/>
    <forward
        name="addressBookGroupFrameAction"
        path="/addressBook/groupFrame.action"/>
    <forward
        name="addressBookGroupFindAction"
        path="/addressBook/groupFind.action"/>
    <forward
        name="addressBookGroupList"
        path="/addressBook/groupList.jsp"/>
    <forward
        name="addressBookGroupListAction"
        path="/addressBook/groupList.action"/>
    <forward
        name="addressBookGroupRight"
        path="/addressBook/groupRight.jsp"/>
    <forward
        name="addressBookGroupRightAction"
        path="/addressBook/groupRight.action"/>
    <forward
        name="addressBookGroupTree"
        path="/addressBook/groupTree.jsp"/>
    <forward
        name="addressBookIndex"
        path="/addressBook/index.jsp"/>
    <forward
        name="addressBookIndexAction"
        path="/addressBook/index.action"/>
    <forward
        name="addressBookPassword"
        path="/addressBook/password.jsp"/>
    <forward
        name="addressBookPerson"
        path="/addressBook/person.jsp"/>
    <forward
        name="addressBookPersonFrame"
        path="/addressBook/personFrame.jsp"/>
    <forward
        name="addressBookPersonAction"
        path="/addressBook/person.action"/>
    <forward
        name="addressBookPersonFindAction"
        path="/addressBook/personFind.action"/>

    <!--   ********   CALENDAR   ********   -->
    <forward
        name="calendarIndex"
        path="/calendar/index.jsp"/>
    <forward
        name="calendarIndexAction"
        path="/calendar/index.action"/>
    <forward
        name="calendarEvent"
        path="/calendar/event.jsp"/>
    <forward
        name="calendarEventAction"
        path="/calendar/event.action"/>
    <forward
        name="calendarEventFindAction"
        path="/calendar/eventFind.action"/>
    <forward
        name="calendarMeeting"
        path="/calendar/meeting.jsp"/>
    <forward
        name="calendarMeetingAction"
        path="/calendar/meeting.action"/>
    <forward
        name="calendarMeetingFindAction"
        path="/calendar/meetingFind.action"/>

    <!--   ********   CHAT   ********   -->
    <forward
        name="chatIndex"
        path="/chat/index.jsp"/>
    <forward
        name="chatRoom"
        path="/chat/room.jsp"/>
    <forward
        name="chatRoomAction"
        path="/chat/room.action"/>

    <!--   ********   DRIVE   ********   -->
    <forward
        name="driveDirectory"
        path="/drive/directory.jsp"/>
    <forward
        name="driveDirectoryAction"
        path="/drive/directory.action"/>
    <forward
        name="driveUpload"
        path="/drive/upload.jsp"/>
    <forward
        name="noDirectory"
        path="/drive/noDirectory.jsp"/>
    <forward
        name="revisionControl"
        path="/drive/revisionControl.jsp"/>

    <!--   ********   ivata MASKS   ********   -->
    <forward
        name="imFindAction"
        path="/mask/find.action" />
    <forward
        name="imInputMask"
        path="/mask/inputMask.jsp" />
    <forward
        name="imInputMaskAction"
        path="/mask/inputMask.action" />
    <forward
        name="imListAction"
        path="/mask/list.action" />
    <forward
        name="imNewAction"
        path="/mask/new.action" />

    <!--   ********   LIBRARY   ********   -->
    <forward
        name="libraryDisplay"
        path="/library/display.jsp"/>
    <forward
        name="libraryDisplayAction"
        path="/library/display.action"/>
    <forward
        name="libraryCommentAction"
        path="/library/comment.action"/>
    <forward
        name="libraryIndex"
        path="/library/index.jsp"/>
    <forward
        name="libraryIndexAction"
        path="/library/index.action"/>
    <forward
        name="libraryHtmlUpload"
        path="/library/uploadHtml.jsp"/>
    <forward
        name="libraryImageUpload"
        path="/library/uploadImages.jsp"/>
    <forward
        name="libraryImageUploadAction"
        path="/library/uploadImages.action"/>
    <forward
        name="librarySubmit"
        path="/library/submit.jsp"/>
    <forward
        name="librarySubmitAction"
        path="/library/submit.action"/>
    <forward
        name="librarySubmitComment"
        path="/library/submitComment.jsp"/>
    <forward
        name="libraryTopic"
        path="/library/topicModify.jsp"/>
    <forward
        name="libraryTopicItems"
        path="/library/topicItems.jsp"/>
    <forward
        name="libraryUnacknowledgedComments"
        path="/library/unacknowledgedComments.action"/>

    <!--   ********   MAIL   ********   -->
    <forward
        name="mailCompose"
        path="/mail/compose.jsp"/>
    <forward
        name="mailComposeAction"
        path="/mail/compose.action"/>
    <forward
        name="mailIndex"
        path="/mail/index.jsp"/>
    <forward
        name="mailIndexAction"
        path="/mail/index.action"/>
    <forward
        name="mailDisplay"
        path="/mail/display.jsp"/>
    <forward
        name="mailDisplayAction"
        path="/mail/display.action"/>
    <forward
        name="mailRecipients"
        path="/mail/recipients.jsp"/>
    <forward
        name="mailServerError"
        path="/mail/serverError.jsp"/>

    <!--   ********   SETTINGS   ********   -->
    <forward
        name="setting"
        path="/setting/index.jsp"/>
    <forward
        name="settingAlertLogout"
        path="/setting/alertLogout.jsp"/>

    <!--   ********   UTIL   ********   -->
    <forward
        name="utilClosePopUp"
        path="/util/closePopUp.jsp"/>
    <forward
        name="utilLoading"
        path="/util/loading.jsp"/>
  </global-forwards>

  <!--
  //////////////////////////////////////////////////////////////////////////////
                      ========== ACTION MAPPINGS ==========
  //////////////////////////////////////////////////////////////////////////////
  -->
  <action-mappings>
    <!-- =================================================================== -->
    <!-- reset actions - COMMENT THESE OUT IN PRODUCTION SYSTEMS!! -->
    <!-- =================================================================== -->
    <!-- reset PicoContainerFactory -->
    <action path="/resetContainer"
        type="com.ivata.groupware.container.struts.ResetContainerAction">
      <forward name="success"
          path="/loginGuest.action"/>
    </action>
    <!-- reset ivata masks - COMMENT THIS OUT IN PRODUCTION SYSTEMS!! -->
    <action path="/mask/reset"
        type="com.ivata.groupware.mask.struts.ResetAction"/>
    <!-- =================================================================== -->
    <!-- =================================================================== -->

    <!--   ********   ROOT   ********   -->
    <!-- dummy form -->
    <action
        path="/dummy"
        type="com.ivata.groupware.admin.security.struts.LoginAction"
        name="genericForm"
        scope="request"/>
    <!-- login to our illustrious intranet -->
    <action
        path="/login"
        type="com.ivata.groupware.admin.security.struts.LoginAction"
        name="loginForm"
        scope="session"
        input="login">
      <forward name="ok"
          path="/login.jsp"/>
    </action>
    <!-- login as a guest -->
    <action
        path="/loginGuest"
        type="com.ivata.groupware.admin.security.struts.LoginGuestAction"
        name="loginForm"
        input="login"
        scope="session">
      <forward name="success"
          path="/login.action"/>
      <forward name="ok"
          path="/login.action"/>
    </action>
    <!-- detect javaScript -->
    <action
        path="/javaScript"
        type="com.ivata.groupware.admin.security.struts.JavaScriptAction"
        name="javaScriptForm"
        scope="request"
        input="loginErrors"></action>
    <!-- basic system configuration -->
    <action
        path="/setup"
        type="com.ivata.groupware.business.mail.struts.MailSetupAction"
        name="setupForm"
        scope="request"
        input="setup">
      <forward name="ok"
          path="/setup/results.jsp"/>
      <forward name="cancel"
          path="/login.action"/>
    </action>

    <!--   ********   ADDRESSBOOK   ********   -->
    <!-- initialize a pop-up frame to display groups or address books -->
    <action
        path="/addressBook/groupFrame"
        type="com.ivata.groupware.business.addressbook.struts.GroupFrameAction"
        name="addressBookGroupFrameForm"
        scope="request"
        input="addressBookGroupFrame"></action>

    <!-- initialize a list of user groups or address books -->
    <action
        path="/addressBook/groupList"
        type="com.ivata.groupware.business.addressbook.struts.GroupListAction"
        name="addressBookGroupListForm"
        scope="request">
    </action>

    <!-- initialize a list of user groups or address books -->
    <action
        path="/addressBook/groupTree"
        type="com.ivata.groupware.business.addressbook.struts.GroupListAction"
        name="addressBookGroupTreeForm"
        scope="session">
    </action>

    <!-- find an existing Group -->
    <action
        path="/addressBook/groupFind"
        type="com.ivata.groupware.business.addressbook.struts.FindGroupAction"
        name="addressBookFindGroupForm"
        scope="request"></action>

    <!-- create new or amend rights or users for a given Group -->
    <action
        path="/addressBook/groupRight"
        type="com.ivata.groupware.business.addressbook.struts.GroupRightAction"
        name="addressBookGroupRightForm"
        scope="session"
        input="addressBookGroupRight"></action>

    <!-- show a list of people -->
    <action
        path="/addressBook/index"
        type="com.ivata.groupware.business.addressbook.struts.PersonListAction"
        name="addressBookIndexForm"
        scope="session"
        input="addressBookIndex"></action>

    <!-- change someone's password -->
    <action
        path="/addressBook/password"
        type="com.ivata.groupware.admin.security.struts.PasswordAction"
        name="addressBookPasswordForm"
        scope="request"
        input="addressBookPassword"></action>

    <!-- create new or amend existing Person -->
    <action
        path="/addressBook/person"
        type="com.ivata.groupware.business.addressbook.struts.PersonAction"
        name="addressBookPersonForm"
        scope="session"
        input="addressBookPerson">
      <forward name="apply"
          path="/addressBook/person.jsp"/>
      <forward name="cancel"
          path="/util/closePopUp.jsp"/>
      <forward name="delete"
          path="/util/closePopUp.jsp"/>
      <forward name="ok"
          path="/util/closePopUp.jsp"/>
    </action>

    <!-- find an existing person to amend or display -->
    <action
        path="/addressBook/personFind"
        type="com.ivata.groupware.business.addressbook.struts.FindPersonAction"
        input="addressBookPerson">
      <forward name="apply"
          path="/addressBook/person.jsp"/>
      <forward name="delete"
          path="/util/closePopUp.jsp"/>
      <forward name="cancel"
          path="/util/closePopUp.jsp"/>
      <forward name="ok"
          path="/util/closePopUp.jsp"/>
    </action>

    <action
        path="/addressBook/userRight"
        type="com.ivata.groupware.business.addressbook.struts.UserRightAction"
        name="addressBookUserRightForm"
        scope="session"
        input="addressBookUserRight"></action>

    <!--   ********   CALENDAR   ********   -->
    <!-- add, amend or delete an event or meeting -->
    <action
        path="/calendar/event"
        type="com.ivata.groupware.business.calendar.struts.EventAction"
        name="calendarEventForm"
        scope="session"
        input="calendarEvent">
      <forward name="apply"
          path="/calendar/event.jsp"/>
      <forward name="delete"
          path="/util/closePopUp.jsp"/>
      <forward name="cancel"
          path="/util/closePopUp.jsp"/>
      <forward name="ok"
          path="/util/closePopUp.jsp"/>
    </action>

    <!-- find an existing event or meeting to amend or display -->
    <action
        path="/calendar/eventFind"
        type="com.ivata.groupware.business.calendar.struts.FindEventAction"
        input="calendarEvent">
      <forward name="apply"
          path="/calendar/event.jsp"/>
      <forward name="delete"
          path="/util/closePopUp.jsp"/>
      <forward name="cancel"
          path="/util/closePopUp.jsp"/>
      <forward name="ok"
          path="/util/closePopUp.jsp"/>
    </action>
    <!-- display the main calendar index -->
    <action
        path="/calendar/index"
        type="com.ivata.groupware.business.calendar.struts.IndexAction"
        name="calendarIndexForm"
        scope="session"
        input="calendarIndex"></action>

    <!--   ********   CHAT   ********   -->
    <!-- add, amend or delete an event or meeting -->
    <action
        path="/chat/room"
        type="com.ivata.groupware.business.chat.struts.RoomAction"
        name="chatRoomForm"
        scope="request"
        input="chatRoom"></action>

    <!--   ********   DRIVE   ********   -->
    <!-- upload a file , add it to other (possible) files already uploaded -->
    <action
        path="/drive/upload"
        type="com.ivata.groupware.business.drive.struts.UploadAction"
        name="driveUploadForm"
        scope="session"
        input="driveUpload"></action>

    <!-- maintaining revisions of files -->
    <action
        path="/drive/fileRevisions"
        type="com.ivata.groupware.business.drive.struts.FileRevisionsAction"
        name="fileRevisionsForm"
        scope="request"></action>

    <!-- maintaining a directory of the drive -->
    <action
        path="/drive/directory"
        type="com.ivata.groupware.business.drive.struts.DirectoryAction"
        name="directoryForm"
        scope="session"
        input="driveDirectory"></action>

    <!--   ********   ivata MASKS   ********   -->
    <!-- submit changes made in an input mask -->
    <action path="/mask/inputMask"
        type="com.ivata.mask.web.struts.InputMaskAction"
        name="InputMaskForm"
        scope="session"
        input="imInputMask">
      <!--
        in ivata groupware, most masks are in pop-ups: they close after the OK
        button is pressed
      -->
      <forward name="cancel"
          path="/util/closePopUp.jsp"/>
      <forward name="ok"
          path="/util/closePopUp.jsp"/>
    </action>
    <!-- load a value object for amend or display -->
    <action path="/mask/find"
        type="com.ivata.mask.web.struts.FindAction">
      <forward name="success"
          path="/mask/inputMask.jsp"/>
    </action>
    <!-- display a list of value objects -->
    <action path="/mask/list"
        type="com.ivata.mask.web.struts.ListAction">
      <forward name="success"
          path="/mask/list.jsp"/>
    </action>
    <!-- create a new value object to edit and add -->
    <action path="/mask/new"
        type="com.ivata.mask.web.struts.NewAction">
      <forward name="success"
          path="/mask/inputMask.jsp"/>
    </action>

    <!--   ********   LIBRARY   ********   -->
    <!-- enter and display comments -->
    <action
        path="/library/comment"
        type="com.ivata.groupware.business.library.struts.CommentAction"
        name="libraryCommentForm"
        scope="session"
        input="librarySubmitComment">
      <forward name="cancel"
          path="/util/closePopUp.jsp"/>
      <forward name="delete"
          path="/util/closePopUp.jsp"/>
      <forward name="ok"
          path="/util/closePopUp.jsp"/>
    </action>

    <!-- display a library item -->
    <action
        path="/library/display"
        type="com.ivata.groupware.business.library.struts.DisplayAction"
        name="libraryItemForm"
        scope="session"
        input="libraryDisplay">
      <forward
          name="cancel"
          path="/library/index.jsp"/>
    </action>

    <!-- display most recent library items -->
    <action
        path="/library/index"
        type="com.ivata.groupware.business.library.struts.IndexAction"
        name="libraryIndexForm"
        scope="request"
        input="libraryIndex"></action>

    <!-- upload a library document from a HTML file -->
    <action
        path="/library/uploadHtml"
        type="com.ivata.groupware.business.library.struts.UploadHtmlAction"
        name="libraryUploadHtmlForm"
        scope="request"
        input="libraryHtmlUpload"></action>

    <!-- upload embedded images for a library document created from HTML file -->
    <action
        path="/library/uploadImages"
        type="com.ivata.groupware.business.library.struts.UploadImagesAction"
        name="libraryUploadImagesForm"
        scope="request"
        input="libraryImagesUpload"></action>

    <!-- amend an existing or enter a new library item -->
    <action
        path="/library/submit"
        type="com.ivata.groupware.business.library.struts.SubmitAction"
        name="libraryItemForm"
        scope="session"
        input="librarySubmit">
      <forward
          name="delete"
          path="/library/index.jsp"/>
      <forward
          name="ok"
          path="/library/index.jsp"/>
      <forward
          name="cancel"
          path="/library/index.jsp"/>
    </action>

    <!-- create new or amend existing Library Topic -->
    <action
        path="/library/topic"
        type="com.ivata.groupware.business.library.struts.TopicAction"
        name="libraryTopicForm"
        scope="session"
        input="libraryTopic">
      <forward name="apply"
          path="/library/topicModify.jsp"/>
      <forward name="delete"
          path="/util/closePopUp.jsp"/>
      <forward name="cancel"
          path="/util/closePopUp.jsp"/>
      <forward name="ok"
          path="/util/closePopUp.jsp"/>
    </action>

    <!-- find existing Topic -->
    <action
        path="/library/topicFind"
        type="com.ivata.groupware.business.library.struts.FindTopicAction"
        name="libraryFindTopicForm"
        scope="request"></action>

    <!-- do somethink with Unacknoledged Comments -->
    <action
        path="/library/unacknowledgedComments"
        type="com.ivata.groupware.business.library.struts.UnacknowledgedCommentsAction"
        scope="request">
      <forward
          name="listOfComments"
          path="/library/openComments.jsp"/>
    </action>

    <!--   ********   MAIL   ********   -->
    <!-- list the contents of a mail folder, or react to a previous selection -->
    <action
        path="/mail/index"
        type="com.ivata.groupware.business.mail.struts.IndexAction"
        name="mailIndexForm"
        scope="request"
        input="mailIndex"></action>

    <!-- compose a new mail using the form in the mail subsystem -->
    <action
        path="/mail/compose"
        type="com.ivata.groupware.business.mail.struts.ComposeAction"
        name="mailComposeForm"
        scope="session"
        input="mailCompose">
      <forward
          name="success"
          path="/util/closePopUp.html"/>
      <forward name="cancel"
          path="/util/closePopUp.jsp"/>
      <forward name="delete"
          path="/util/closePopUp.jsp"/>
      <forward name="ok"
          path="/util/closePopUp.jsp"/>
    </action>

    <!-- display, reply to, forward or edit an existing mail -->
    <action
        path="/mail/display"
        type="com.ivata.groupware.business.mail.struts.DisplayAction"
        name="mailDisplayForm"
        scope="request">
      <forward
          name="success"
          path="/util/closePopUp.jsp"/>
      <forward
          name="noMessage"
          path="/mail/noMessage.jsp"/>
      <forward name="cancel"
          path="/util/closePopUp.jsp"/>
      <forward name="delete"
          path="/util/closePopUp.jsp"/>
      <forward name="ok"
          path="/util/closePopUp.jsp"/>
    </action>
    <!-- recipients action is just a dummy -->
    <action
        path="/mail/recipients"
        type="org.apache.struts.actions.ForwardAction"
        name="mailRecipientForm"
        parameter="/mail/recipients.jsp"></action>

    <!-- manage upload of attachments to the upload directory -->
    <action
        path="/mail/upload"
        type="com.ivata.groupware.business.mail.struts.UploadAttachmentsAction"
        name="mailUploadForm"
        scope="session"
        input="mailUpload"></action>


    <!--   ********   NAVIGATION   ********   -->
    <!-- enter and display comments -->
    <action
        path="/navigation/addFavorite"
        type="com.ivata.groupware.navigation.struts.AddFavoriteAction"
        name="navigationFavoriteForm"
        input="left"
        scope="request"></action>
    <!-- find a favorite, given its id -->
    <action
        path="/navigation/favoriteFind"
        type="com.ivata.groupware.navigation.struts.FindFavoriteAction"
        name="navigationFavoriteForm"
        input="navigationFavoriteMask"
        scope="request">
      <forward name="success"
          path="/mask/inputMask.jsp"/>
    </action>
    <!--   ********   SETTINGS   ********   -->
    <!-- fetch and update the settings -->
    <action
        path="/setting/index"
        type="com.ivata.groupware.admin.setting.struts.SettingAction"
        name="settingForm"
        input="setting"
        scope="session">
      <forward
          name="noSettings"
          path="/setting/noSettings.jsp"/>
      <forward
          name="ok"
          path="/setting/alertLogout.jsp"/>
    </action>
  </action-mappings>

  <!--
  //////////////////////////////////////////////////////////////////////////////
                   ========== CONTROLLER DEFINITION ==========
  //////////////////////////////////////////////////////////////////////////////
  -->
  <controller
      processorClass="com.ivata.groupware.container.struts.PicoRequestProcessor">
    <!-- The "input" parameter on "action" elements is the name of a
         local or global "forward" rather than a module-relative path -->
    <set-property
        property="inputForward"
        value="true"/>
  </controller>


  <!--
  //////////////////////////////////////////////////////////////////////////////
                    ========== MESSAGE RESOURCES ==========
  //////////////////////////////////////////////////////////////////////////////
  -->
  <message-resources
      parameter="com.ivata.groupware.business.ApplicationResources"/>
  <message-resources
      parameter="com.ivata.groupware.business.addressbook.ApplicationResources"
      key="addressBook"/>
  <message-resources
      parameter="com.ivata.groupware.business.calendar.ApplicationResources"
      key="calendar"/>
  <message-resources
      parameter="com.ivata.groupware.business.chat.ApplicationResources"
      key="chat"/>
  <message-resources
      parameter="com.ivata.groupware.business.drive.ApplicationResources"
      key="drive"/>
  <message-resources
      parameter="com.ivata.groupware.business.help.ApplicationResources"
      key="help"/>
  <message-resources
      parameter="com.ivata.groupware.business.library.ApplicationResources"
      key="library"/>
  <message-resources
      parameter="com.ivata.groupware.business.mail.ApplicationResources"
      key="mail"></message-resources>
  <message-resources
      parameter="com.ivata.groupware.admin.ApplicationResources"
      key="admin"/>


  <!--
  //////////////////////////////////////////////////////////////////////////////
                        ========== PLUG-INS ==========
  //////////////////////////////////////////////////////////////////////////////
  -->
  <!-- cgm: we don't need these yet - might in future, though
  <plug-in className="org.apache.struts.webapp.example.memory.MemoryDatabasePlugIn">
    <set-property property="pathname" value="/WEB-INF/database.xml"/>
  </plug-in>

  <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
    <set-property property="pathnames" value="/WEB-INF/validator-rules.xml,                             /WEB-INF/validation.xml"/>
  </plug-in>
  -->
</struts-config>
